2025-12-27 16:01:12,075 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:01:27,339 | INFO | app.api.v1.auth | auth.py:23 | 注册用户: LmCow
2025-12-27 16:03:42,753 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:06:14,574 | INFO | watchfiles.main | main.py:308 | 5 changes detected
2025-12-27 16:07:02,250 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:07:02,610 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:02,969 | INFO | watchfiles.main | main.py:308 | 2 changes detected
2025-12-27 16:07:03,333 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:03,686 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:04,058 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:04,412 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:04,769 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:05,121 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:05,476 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:05,836 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:06,194 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:06,553 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:06,907 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:07,260 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:07,615 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:07,970 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:08,337 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:08,692 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:09,047 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:09,403 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:09,759 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:10,110 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:10,465 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:10,819 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:11,176 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:11,532 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:11,884 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:12,250 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:12,604 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:12,959 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:13,316 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:13,672 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:14,026 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:16,817 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:07:17,178 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:17,534 | INFO | watchfiles.main | main.py:308 | 2 changes detected
2025-12-27 16:07:17,891 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:18,248 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:18,603 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:18,956 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:28,420 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:28,786 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:35,956 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:36,308 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:47,920 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:48,330 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:53,375 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:07:53,742 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:54,096 | INFO | watchfiles.main | main.py:308 | 7 changes detected
2025-12-27 16:07:54,449 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:54,806 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:55,161 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:55,518 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:55,877 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:56,236 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:56,593 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:56,949 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:57,303 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:07:57,657 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:09:23,317 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:09:23,671 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:02,011 | INFO | app.api.v1.auth | auth.py:23 | 注册用户: LmCow
2025-12-27 16:11:09,459 | INFO | app.api.v1.auth | auth.py:23 | 注册用户: LmCow
2025-12-27 16:11:09,555 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:09,917 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:10,272 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:10,628 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:10,981 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:11,336 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:11,690 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:11:12,043 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:13:53,860 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:13:54,224 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:14:10,438 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:16:04,348 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:16:27,129 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:19:09,985 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:21:08,106 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:21:47,579 | INFO | watchfiles.main | main.py:308 | 3 changes detected
2025-12-27 16:22:00,208 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:22:00,303 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:22:00,413 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:00,780 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:01,132 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:01,485 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:01,837 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:02,194 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:02,552 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:02,909 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:22:03,261 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:23:05,591 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:23:05,948 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:23:47,054 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:23:47,411 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:24:19,010 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:24:19,375 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:24:25,588 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:24:26,044 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:24:41,392 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:24:41,747 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:25:04,474 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:25:04,831 | INFO | watchfiles.main | main.py:308 | 1 change detected
2025-12-27 16:25:30,755 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:25:30,844 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:28:11,713 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:28:11,806 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:31:10,850 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:31:10,953 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:53:25,169 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:53:25,250 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:53:47,421 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:53:47,533 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:55:25,503 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:55:25,606 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 16:58:48,275 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 16:58:48,364 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:00:20,966 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:00:21,056 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:02:34,409 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:02:34,494 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:15:29,547 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:15:29,679 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:23:09,411 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:23:09,594 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:24:52,153 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:24:52,224 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:26:35,376 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:26:35,448 | ERROR | app.services.user_service | user_service.py:47 | 创建用户失败，已回滚事务
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 494, in finish_recv
    return ov.getresult()
OSError: [WinError 64] 指定的网络名不再可用。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 826, in _poll
    value = callback(transferred, key, ov)
  File "E:\Dpan\Anaconda3\envs\backend\lib\asyncio\windows_events.py", line 498, in finish_recv
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] 指定的网络名不再可用。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Code\Python\AIChat\app\services\user_service.py", line 13, in create_user
    result = await db.execute(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
  File "<string>", line 2, in _connection_for_bind
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\orm\session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3277, in connect
    return self._connection_cls(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\base.py", line 3301, in raw_connection
    return self.pool.connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\engine\default.py", line 629, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 964, in connect
    await_only(creator_fn(*arg, **kw)),
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connection.py", line 2443, in connect
    return await connect_utils._connect(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1218, in _connect
    conn = await _connect_addr(
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1054, in _connect_addr
    return await __connect_addr(params, True, *args)
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\asyncpg\connect_utils.py", line 1102, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-12-27 17:40:03,964 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 17:42:10,838 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 19:59:37,466 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow
2025-12-27 19:59:37,553 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: LmCow
2025-12-27 19:59:37,554 | WARNING | passlib.handlers.bcrypt | bcrypt.py:622 | (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-27 19:59:37,834 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 19:59:37,834 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功: 1
2025-12-27 20:05:13,417 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow123
2025-12-27 20:05:13,485 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: LmCow123
2025-12-27 20:05:13,486 | WARNING | passlib.handlers.bcrypt | bcrypt.py:622 | (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "E:\Dpan\Anaconda3\envs\backend\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-27 20:05:13,721 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:05:13,721 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功: 2
2025-12-27 20:07:39,957 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: LmCow666
2025-12-27 20:07:40,017 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: LmCow666
2025-12-27 20:07:40,239 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:07:40,240 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 3
2025-12-27 20:09:44,106 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: lm1111
2025-12-27 20:09:44,109 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: lm1111
2025-12-27 20:09:44,322 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:09:44,322 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 4
2025-12-27 20:12:18,498 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: lm9999
2025-12-27 20:12:18,501 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: lm9999
2025-12-27 20:12:18,703 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:12:18,703 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 5
2025-12-27 20:13:27,314 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: lm2333
2025-12-27 20:13:27,315 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: lm2333
2025-12-27 20:13:27,535 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:13:27,536 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 6
2025-12-27 20:15:47,809 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: lm5555
2025-12-27 20:15:47,812 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: lm5555
2025-12-27 20:15:48,002 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:15:48,002 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 7
2025-12-27 20:17:23,524 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: lm7777
2025-12-27 20:17:23,527 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: lm7777
2025-12-27 20:17:23,751 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:17:23,751 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 8
2025-12-27 20:19:19,488 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 982
2025-12-27 20:19:19,490 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 982
2025-12-27 20:19:19,712 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:19:19,713 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 9
2025-12-27 20:21:44,636 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 156
2025-12-27 20:21:44,639 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 156
2025-12-27 20:21:44,857 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:21:44,858 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 10
2025-12-27 20:23:53,431 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 791
2025-12-27 20:23:53,433 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 791
2025-12-27 20:23:53,629 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:23:53,630 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 11
2025-12-27 20:24:51,767 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 689
2025-12-27 20:24:51,769 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 689
2025-12-27 20:24:51,989 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:24:51,990 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 12
2025-12-27 20:31:35,529 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 1569
2025-12-27 20:31:35,532 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 1569
2025-12-27 20:31:35,724 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:31:35,724 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 13
2025-12-27 20:33:42,408 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 189
2025-12-27 20:33:42,410 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 189
2025-12-27 20:33:42,621 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:33:42,621 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 14
2025-12-27 20:35:03,747 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 1897
2025-12-27 20:35:03,751 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 1897
2025-12-27 20:35:04,072 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:35:04,073 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 15
2025-12-27 20:36:10,802 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 9765
2025-12-27 20:36:10,806 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 9765
2025-12-27 20:36:11,095 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:36:11,096 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 16
2025-12-27 20:37:44,724 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 1985
2025-12-27 20:37:44,728 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 1985
2025-12-27 20:37:45,028 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:37:45,028 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 17
2025-12-27 20:40:02,298 | INFO | app.api.v1.auth | auth.py:24 | 注册用户: 2828
2025-12-27 20:40:02,301 | INFO | app.services.user_service | user_service.py:30 | 准备创建用户: 2828
2025-12-27 20:40:02,622 | INFO | app.services.user_service | user_service.py:47 | 用户注册完成
2025-12-27 20:40:02,622 | INFO | app.api.v1.auth | auth.py:27 | 用户注册成功,用户id: 18
